<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Travel Advisor Chat</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body, html { height: 100%; font-family: 'Poppins', sans-serif; overflow: hidden; }
    body { background-size: cover; background-position: center; transition: background-image 1s ease-in-out; }
    .chat-container { width: 100%; height: 100vh; background-color: rgba(255, 255, 255, 0.7); backdrop-filter: blur(5px); display: flex; flex-direction: column; justify-content: flex-end; padding: 20px; }
    .chat-box { flex: 1; overflow-y: auto; padding: 10px; display: flex; flex-direction: column; gap: 10px; }
    .bubble { padding: 12px 18px; border-radius: 20px; max-width: 75%; font-size: 16px; line-height: 1.4; animation: fadeIn 0.5s ease; }
    .user { align-self: flex-end; background: #4facfe; color: white; }
    .bot { align-self: flex-start; background: #f1f1f1; color: #333; }
    .input-area { display: flex; padding-top: 10px; gap: 10px; }
    input { flex: 1; padding: 12px; border: none; border-radius: 20px; font-size: 16px; outline: none; }
    button { padding: 12px 20px; background-color: #4facfe; color: white; border: none; border-radius: 20px; font-size: 16px; cursor: pointer; }
    button:hover { background-color: #00f2fe; }
    .option-button { background-color: #00c9ff; border: none; border-radius: 20px; padding: 10px 18px; margin: 5px 5px 0 0; cursor: pointer; font-size: 15px; }
    .option-button:hover { background-color: #92fe9d; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px);} to { opacity: 1; transform: translateY(0);} }
    a { color: #007bff; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>

<body>

<div class="chat-container">
  <div class="chat-box" id="chat-box">
    <div class="bubble bot">üåç Hi there! I'm your personal travel advisor. Ready to plan your dream trip?</div>
    <div class="bubble bot">First, where would you like to travel?</div>
    <div id="options"></div>
  </div>
  <div class="input-area">
    <input type="text" id="user-input" placeholder="Type your message..." />
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

<script>
  let step = "destination";
  let selectedDestination = "";
  let selectedBudget = "";
  let selectedTripType = "";
  let selectedDates = "";
  let numberOfTravelers = "";
  let selectedAirline = "";

  const optionsDiv = document.getElementById("options");

  const backgrounds = [
    "https://images.unsplash.com/photo-1507525428034-b723cf961d3e",
    "https://images.unsplash.com/photo-1504198453319-5ce911bafcde",
    "https://images.unsplash.com/photo-1572705824043-87f112d79d80",
    "https://images.unsplash.com/photo-1504198453319-5ce911bafcde",
    "https://images.unsplash.com/photo-1512428559087-dc0a51b98849"
  ];
  
  let bgIndex = 0;
  function changeBackground() {
    document.body.style.backgroundImage = `url('${backgrounds[bgIndex]}')`;
    bgIndex = (bgIndex + 1) % backgrounds.length;
  }
  setInterval(changeBackground, 5000);
  changeBackground();

  const destinations = ["Europe", "Asia", "America", "Africa", "Australia", "Not sure yet"];
  destinations.forEach(dest => createOptionButton(dest, selectDestination));

  function createOptionButton(text, callback) {
    const btn = document.createElement("button");
    btn.className = "option-button";
    btn.textContent = text;
    btn.onclick = () => callback(text);
    optionsDiv.appendChild(btn);
  }

  function selectDestination(destination) {
    addMessage(destination, 'user');
    selectedDestination = destination;
    optionsDiv.innerHTML = "";
    setTimeout(() => askBudget(), 500);
  }

  function askBudget() {
    addMessage("What is your travel budget?", 'bot');
    const budgets = ["<$1000", "$1000-$3000", "$3000-$5000", "$5000+"];
    budgets.forEach(budget => createOptionButton(budget, selectBudget));
    step = "budget";
  }

  function selectBudget(budget) {
    addMessage(budget, 'user');
    selectedBudget = budget;
    optionsDiv.innerHTML = "";
    setTimeout(() => askTripType(), 500);
  }

  function askTripType() {
    addMessage("What type of trip are you looking for?", 'bot');
    const types = ["Luxury", "Family", "Adventure", "Romantic"];
    types.forEach(type => createOptionButton(type, selectTripType));
    step = "tripType";
  }

  function selectTripType(type) {
    addMessage(type, 'user');
    selectedTripType = type;
    optionsDiv.innerHTML = "";
    setTimeout(() => askDates(), 500);
  }

  function askDates() {
    addMessage("What dates are you planning to travel? (Example: August 10-15)", 'bot');
    step = "dates";
  }

  function askTravelers() {
    addMessage("How many travelers?", 'bot');
    step = "travelers";
  }

  function askAirline() {
    addMessage("Preferred airline? (Optional)", 'bot');
    step = "airline";
  }

  function showSpecialDeal() {
    addMessage("üî• Special deal: Book now and save 20% on selected hotels!", 'bot');
  }

  function showSummary() {
    addMessage("Awesome! Here's what I found for you! ‚ú®", 'bot');
    let links = "";

    if (selectedDestination.toLowerCase().includes("europe")) {
      links += `<a href="https://www.booking.com/city/fr/paris.en.html" target="_blank">Hotels in Paris</a><br>`;
      links += `<a href="https://www.booking.com/city/it/rome.en.html" target="_blank">Hotels in Rome</a><br>`;
    } else if (selectedDestination.toLowerCase().includes("asia")) {
      links += `<a href="https://www.booking.com/city/jp/tokyo.en.html" target="_blank">Hotels in Tokyo</a><br>`;
      links += `<a href="https://www.booking.com/city/th/bangkok.en.html" target="_blank">Hotels in Bangkok</a><br>`;
    } else if (selectedDestination.toLowerCase().includes("america")) {
      links += `<a href="https://www.booking.com/city/us/miami.en.html" target="_blank">Hotels in Miami</a><br>`;
      links += `<a href="https://www.booking.com/city/us/new-york.en.html" target="_blank">Hotels in New York</a><br>`;
    }
    addBotResponse(links);

    setTimeout(() => askRating(), 1500);
  }

  function askRating() {
    addMessage("‚≠ê How would you rate your experience with me? (1-5 stars)", 'bot');
    step = "rating";
  }

  function sendMessage() {
    const input = document.getElementById("user-input");
    if (input.value.trim() === "") return;
    addMessage(input.value, 'user');

    if (step === "dates") {
      selectedDates = input.value;
      setTimeout(() => askTravelers(), 500);
    } else if (step === "travelers") {
      numberOfTravelers = input.value;
      setTimeout(() => askAirline(), 500);
    } else if (step === "airline") {
      selectedAirline = input.value;
      setTimeout(() => {
        showSpecialDeal();
        setTimeout(() => {
          showSummary();
        }, 2000);
      }, 500);
    } else if (step === "rating") {
      addMessage("Thank you for your feedback! üåü", 'bot');
    }
    input.value = "";
  }

  function addMessage(text, sender) {
    const chatBox = document.getElementById("chat-box");
    const bubble = document.createElement("div");
    bubble.className = "bubble " + sender;
    bubble.textContent = text;
    chatBox.appendChild(bubble);
    chatBox.scrollTop = chatBox.scrollHeight;
  }

  function addBotResponse(html) {
    const chatBox = document.getElementById("chat-box");
    const bubble = document.createElement("div");
    bubble.className = "bubble bot";
    bubble.innerHTML = html;
    chatBox.appendChild(bubble);
    chatBox.scrollTop = chatBox.scrollHeight;
  }
</script>

</body>
</html>





